/*! http://mths.be/details v0.1.0 by @mathias | includes http://mths.be/noselect v1.0.3 */
!function(document,$){var details,proto=$.fn,isOpera="[object Opera]"==Object.prototype.toString.call(window.opera),isDetailsSupported=function(doc){var fake,root,diff,el=doc.createElement("details");return"open"in el?(root=doc.body||function(){var de=doc.documentElement;return fake=!0,de.insertBefore(doc.createElement("body"),de.firstElementChild||de.firstChild)}(),el.innerHTML="<summary>a</summary>b",el.style.display="block",root.appendChild(el),diff=el.offsetHeight,el.open=!0,diff=diff!=el.offsetHeight,root.removeChild(el),fake&&root.parentNode.removeChild(root),diff):!1}(document),toggleOpen=function($details,$detailsSummary,$detailsNotSummary,toggle){var isOpen=$details.prop("open"),close=isOpen&&toggle||!isOpen&&!toggle;close?($details.removeClass("open").prop("open",!1).triggerHandler("close.details"),$detailsSummary.attr("aria-expanded",!1),$detailsNotSummary.hide()):($details.addClass("open").prop("open",!0).triggerHandler("open.details"),$detailsSummary.attr("aria-expanded",!0),$detailsNotSummary.show())};proto.noSelect=function(){var none="none";return this.bind("selectstart dragstart mousedown",function(){return!1}).css({MozUserSelect:none,msUserSelect:none,webkitUserSelect:none,userSelect:none})},isDetailsSupported?(details=proto.details=function(){return this.each(function(){var $details=$(this),$summary=$("summary",$details).first();$summary.attr({role:"button","aria-expanded":$details.prop("open")}).on("click",function(){var close=$details.prop("open");$summary.attr("aria-expanded",!close),$details.triggerHandler((close?"close":"open")+".details")})})},details.support=isDetailsSupported):(details=proto.details=function(){return this.each(function(){var $details=$(this),$detailsSummary=$("summary",$details).first(),$detailsNotSummary=$details.children(":not(summary)"),$detailsNotSummaryContents=$details.contents(":not(summary)");$detailsSummary.length||($detailsSummary=$("<summary>").text("Details").prependTo($details)),$detailsNotSummary.length!=$detailsNotSummaryContents.length&&($detailsNotSummaryContents.filter(function(){return 3==this.nodeType&&/[^ \t\n\f\r]/.test(this.data)}).wrap("<span>"),$detailsNotSummary=$details.children(":not(summary)")),$details.prop("open","string"==typeof $details.attr("open")),toggleOpen($details,$detailsSummary,$detailsNotSummary),$detailsSummary.attr("role","button").noSelect().prop("tabIndex",0).on("click",function(){$detailsSummary.focus(),toggleOpen($details,$detailsSummary,$detailsNotSummary,!0)}).keyup(function(event){(32==event.keyCode||13==event.keyCode&&!isOpera)&&(event.preventDefault(),$detailsSummary.click())})})},details.support=isDetailsSupported)}(document,jQuery);